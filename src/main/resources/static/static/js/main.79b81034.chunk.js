(this["webpackJsonpiptv-gui"]=this["webpackJsonpiptv-gui"]||[]).push([[0],{157:function(e,a,t){e.exports=t(315)},162:function(e,a,t){},315:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(37),r=t.n(i),o=(t(162),t(92)),c=t(33),u=t(322),s=t(320),m=t(28),d=t(29),f=t(30),E=t(31),g=t(32),h=t(325),p=t(324),b=t(321),v=t(45),C=t(66),y=t.n(C),P=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(l)))).state={status:"WORKING",channels:[],pagination:{first:!0,last:!1,number:0,numberOfElements:20,totalPages:0,availablepages:[]},inVerification:new Set},t.verifyAll=function(){var e=t.state.inVerification;t.state.channels.forEach((function(a){e.add(a.id)})),t.setState({inVerification:e},(function(){return t.loadPage})),y.a.post("/channels/verification?status=".concat(t.state.status)).then((function(e){t.loadPage()}))},t.toPage=function(e){var a=t.state.pagination;a.number=e,t.setState({pagination:a},(function(){return t.loadPage()}))},t.nextPage=function(e){var a=t.state.pagination;a.number++,t.setState({pagination:a},(function(){return t.loadPage()}))},t.previousPage=function(e){var a=t.state.pagination;a.number--,t.setState({pagination:a},(function(){return t.loadPage()}))},t.verify=function(e){var a=t.state.inVerification;a.add(e),t.setState({inVerification:a},(function(){return t.loadPage})),y.a.post("/channels/".concat(e,"/verification")).then((function(e){t.loadPage()}))},t.loadPage=function(){y.a.get("/channels?sort=id,asc&page=".concat(t.state.pagination.number)).then((function(e){var a=e.data.content,n=t.state.inVerification;a.filter((function(e){return"IN_VALIDATION"!==e.status})).forEach((function(e){n.delete(e.id)}));var l=[e.data.number-2,e.data.number-1,e.data.number,e.data.number+1,e.data.number+2].filter((function(e){return e>=0})).filter((function(a){return a<e.data.totalPages})),i={first:e.data.first,last:e.data.last,number:e.data.number,numberOfElements:e.data.numberOfElements,totalPages:e.data.totalPages,availablepages:l,inVerification:n};0!==n.size&&setTimeout(t.loadPage,3e3),t.setState({channels:a,pagination:i,inVerification:n},(function(){return t.render()}))}))},t}return Object(g.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.loadPage()}},{key:"render",value:function(){var e=this;return this.state.channels?l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:"0.5em"}},l.a.createElement(p.a,{positive:!0,class:"ui button",onClick:this.verifyAll},"Verify")),l.a.createElement(b.a,null,l.a.createElement(b.a.Header,null,l.a.createElement(b.a.Row,null,l.a.createElement(b.a.HeaderCell,null,"Id"),l.a.createElement(b.a.HeaderCell,null,"Creation Date"),l.a.createElement(b.a.HeaderCell,null,"Name"),l.a.createElement(b.a.HeaderCell,null,"Status"),l.a.createElement(b.a.HeaderCell,null,"Sound Track"),l.a.createElement(b.a.HeaderCell,null,"Uri"),l.a.createElement(b.a.HeaderCell,null,"Actions"))),l.a.createElement(b.a.Body,null,this.state.channels.map((function(a){return l.a.createElement(b.a.Row,{key:a.id},l.a.createElement(b.a.Cell,null,a.id),l.a.createElement(b.a.Cell,null,a.creationDate),l.a.createElement(b.a.Cell,null,a.name),l.a.createElement(b.a.Cell,null,a.status),l.a.createElement(b.a.Cell,null,a.soundTrack),l.a.createElement(b.a.Cell,null,a.uri),l.a.createElement(b.a.Cell,null,l.a.createElement(p.a,{positive:!e.state.inVerification.has(a.id),class:"ui button {buttonType}",onClick:function(){return e.verify(a.id)}},e.state.inVerification.has(a.id)?"Verifying...":"Verify")))}))),l.a.createElement(b.a.Footer,null,l.a.createElement(b.a.Row,null,l.a.createElement(b.a.HeaderCell,{colSpan:"6"},l.a.createElement(u.a,{floated:"right",pagination:!0},l.a.createElement(u.a.Item,{as:"a",icon:!0,disabled:this.state.pagination.first,onClick:this.previousPage},l.a.createElement(v.a,{name:"chevron left"})),this.state.pagination.availablepages.map((function(a){return l.a.createElement(u.a.Item,{key:a,onClick:function(){return e.toPage(a)},active:e.state.pagination.number===a},a+1)})),l.a.createElement(u.a.Item,{as:"a",icon:!0,disabled:this.state.pagination.last,onClick:this.nextPage},l.a.createElement(v.a,{name:"chevron right"})))))))):l.a.createElement("p",null,"Loading...")}}]),a}(l.a.Component),k=function(e){function a(){return Object(m.a)(this,a),Object(f.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement(s.a,{style:{marginTop:"7em"}},l.a.createElement(h.a,{as:"h1"},"Current channels"),l.a.createElement("div",{style:{marginBottom:"0.5em"}},l.a.createElement(p.a,{class:"ui button",href:"/channels/export?size=1000&status=WORKING",target:"_blank"},"Download Working channels"),l.a.createElement(p.a,{class:"ui button",href:"/channels/export?size=1000",target:"_blank"},"Download All channels")),l.a.createElement(P,null))}}]),a}(l.a.Component),O=function(){return l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(u.a,{fixed:"top",inverted:!0},l.a.createElement(s.a,null,l.a.createElement(u.a.Item,{as:"a",header:!0},"IPTV Scanner"),l.a.createElement(u.a.Item,null,l.a.createElement(o.b,{to:"/"},"Home")))),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/"},l.a.createElement(k,null)),l.a.createElement(c.a,{path:"/todo"},l.a.createElement(k,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(314);r.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[157,1,2]]]);
//# sourceMappingURL=main.79b81034.chunk.js.map